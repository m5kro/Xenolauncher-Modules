{
    "name": "MKXP-Z",
    "version": "1.0.0",
    "description": "A module to launch MKXP-Z native games like RPG Maker XP, VX, and VX Ace.",
    "author": "m5kro",
    "license": "CC BY-NC-SA 4.0",
    "dependencies": {
        "mkxpz": {
            "universal": {
                "link": "https://github.com/m5kro/mkxp-z/releases/download/launcher/Z-universal.zip",
                "unzip": true
            }
        },
        "RTP": {
            "universal": {
                "link": "https://github.com/m5kro/mkxp-z/releases/download/launcher/RTP.zip",
                "unzip": true
            }
        },
        "kawariki": {
            "universal": {
                "link": "https://github.com/m5kro/mkxp-z/releases/download/launcher/kawariki.zip",
                "unzip": true
            }
        },
        "soundfont": {
            "universal": {
                "link": "https://musical-artifacts.com/artifacts/841/GMGSx.SF2",
                "unzip": false
            }
        }
    },
    "autodetect": {
        "files": ["Game.ini", "Data", "Graphics", "Audio"],
        "all_required": true
    },
    "gameArgs": {
        "rgssVersion": {
            "type": "dropdown",
            "label": "RGSS Version",
            "default": "0",
            "options": [
                { "label": "Auto (0)", "value": "0" },
                { "label": "RGSS1 (XP)", "value": "1" },
                { "label": "RGSS2 (VX)", "value": "2" },
                { "label": "RGSS3 (VX Ace)", "value": "3" }
            ]
        },
        "displayFPS": { "type": "boolean", "label": "Display FPS in Title (F2)", "default": false },
        "printFPS": { "type": "boolean", "label": "Print FPS to Console", "default": false },
        "winResizable": { "type": "boolean", "label": "Resizable Window", "default": true },
        "fullscreen": { "type": "boolean", "label": "Start in Fullscreen", "default": false },
        "fixedAspectRatio": { "type": "boolean", "label": "Preserve Aspect Ratio", "default": true },

        "smoothScaling": {
            "type": "dropdown",
            "label": "Upscale Interpolation",
            "default": "0",
            "options": [
                { "label": "Nearest-Neighbor (0)", "value": "0" },
                { "label": "Bilinear (1)", "value": "1" },
                { "label": "Bicubic (2)", "value": "2" },
                { "label": "Lanczos3 (3)", "value": "3" },
                { "label": "xBRZ (4)", "value": "4" }
            ]
        },
        "smoothScalingDown": {
            "type": "dropdown",
            "label": "Downscale Interpolation",
            "default": "0",
            "options": [
                { "label": "Nearest-Neighbor (0)", "value": "0" },
                { "label": "Bilinear (1)", "value": "1" },
                { "label": "Bicubic (2)", "value": "2" },
                { "label": "Lanczos3 (3)", "value": "3" },
                { "label": "xBRZ (4)", "value": "4" }
            ]
        },
        "bitmapSmoothScaling": {
            "type": "dropdown",
            "label": "Bitmap Upscale Interpolation",
            "default": "0",
            "options": [
                { "label": "Nearest-Neighbor (0)", "value": "0" },
                { "label": "Bilinear (1)", "value": "1" },
                { "label": "Bicubic (2)", "value": "2" },
                { "label": "Lanczos3 (3)", "value": "3" },
                { "label": "xBRZ (4)", "value": "4" }
            ]
        },
        "bitmapSmoothScalingDown": {
            "type": "dropdown",
            "label": "Bitmap Downscale Interpolation",
            "default": "0",
            "options": [
                { "label": "Nearest-Neighbor (0)", "value": "0" },
                { "label": "Bilinear (1)", "value": "1" },
                { "label": "Bicubic (2)", "value": "2" },
                { "label": "Lanczos3 (3)", "value": "3" },
                { "label": "xBRZ (4)", "value": "4" }
            ]
        },
        "smoothScalingMipmaps": { "type": "boolean", "label": "Use Mipmaps for Downscaling", "default": false },
        "bicubicSharpness": { "type": "int", "label": "Bicubic Sharpness (0–100+)", "default": 100 },

        "xbrzScalingFactor": { "type": "float", "label": "xBRZ Scale Factor", "default": 4.0 },
        "enableHires": { "type": "boolean", "label": "Enable Hi-Res Overrides (Hires/)", "default": false },
        "textureScalingFactor": { "type": "float", "label": "Texture Scaling Factor", "default": 4.0 },
        "framebufferScalingFactor": { "type": "float", "label": "Framebuffer Scaling Factor", "default": 4.0 },
        "atlasScalingFactor": { "type": "float", "label": "Tileset Atlas Scaling Factor", "default": 4.0 },

        "vsync": { "type": "boolean", "label": "VSync", "default": false },
        "defScreenW": { "type": "int", "label": "Window Width (0=auto)", "default": 0 },
        "defScreenH": { "type": "int", "label": "Window Height (0=auto)", "default": 0 },
        "windowTitle": { "type": "string", "label": "Window Title Override", "default": "" },

        "fixedFramerate": { "type": "int", "label": "Fixed Framerate (0=disabled)", "default": 0 },
        "frameSkip": { "type": "boolean", "label": "Allow Frame Skip", "default": false },
        "syncToRefreshrate": { "type": "boolean", "label": "Sync to Display Refresh Rate", "default": false },

        "solidFonts": { "type": "array", "label": "Solid Fonts (names)", "default": [] },

        "preferMetalRenderer": { "type": "boolean", "label": "Prefer Metal on macOS", "default": true },
        "subImageFix": { "type": "boolean", "label": "Sub-Image Fix (driver workaround)", "default": false },
        "enableBlitting": { "type": "boolean", "label": "Enable Framebuffer Blitting", "default": true },
        "maxTextureSize": { "type": "int", "label": "Max Texture Size (0=hardware max)", "default": 0 },

        "integerScalingActive": { "type": "boolean", "label": "Use Integer Scaling", "default": false },
        "integerScalingLastMile": { "type": "boolean", "label": "Fill After Integer Scaling", "default": true },

        "anyAltToggleFS": { "type": "boolean", "label": "Any Alt + Enter Toggles Fullscreen", "default": false },
        "enableReset": { "type": "boolean", "label": "Enable F12 Reset", "default": true },
        "enableSettings": { "type": "boolean", "label": "Enable F1/Keybinding Menu", "default": true },
        "allowSymlinks": { "type": "boolean", "label": "Follow Symlinks", "default": true },

        "dataPathOrg": { "type": "string", "label": "Data Path Org", "default": "" },
        "dataPathApp": { "type": "string", "label": "Data Path App", "default": "" },

        "iconPath": { "type": "string", "label": "Window Icon (Linux)", "default": "" },

        "customScript": { "type": "string", "label": "Custom Ruby Script Path", "default": "" },
        "preloadScript": {
            "type": "array",
            "label": "Preload Ruby Scripts",
            "default": ["~/Library/Application Support/xenolauncher/modules/mkxpz/deps/kawariki/kawariki/preload.rb"]
        },
        "postloadScript": { "type": "array", "label": "Postload Ruby Scripts (RGSS3)", "default": [] },

        "pathCache": { "type": "boolean", "label": "Windows-like Path Cache (case-insensitive)", "default": true },

        "RTP": { "type": "array", "label": "RTP / Archives to Add", "default": [] },
        "patches": { "type": "array", "label": "Patches / Mods", "default": [] },

        "useScriptNames": { "type": "boolean", "label": "Use Script Filenames in Messages", "default": true },
        "fontSub": { "type": "array", "label": "Font Substitutions (Old>New)", "default": [] },
        "rubyLoadpath": { "type": "array", "label": "Ruby Load Paths", "default": [] },

        "JITEnable": { "type": "boolean", "label": "Enable MJIT (Ruby ≥ 2.6)", "default": false },
        "JITVerboseLevel": { "type": "int", "label": "MJIT Verbosity", "default": 0 },
        "JITMaxCache": { "type": "int", "label": "MJIT Max Cache", "default": 100 },
        "JITMinCalls": { "type": "int", "label": "MJIT Min Calls", "default": 10000 },

        "YJITEnable": { "type": "boolean", "label": "Enable YJIT (Ruby ≥ 3.1)", "default": false },

        "midiSoundFont": {
            "type": "string",
            "label": "MIDI SoundFont (SF2)",
            "default": "~/Library/Application Support/xenolauncher/modules/mkxpz/deps/soundfont/GMGSx.SF2"
        },
        "midiChorus": { "type": "boolean", "label": "MIDI Chorus", "default": false },
        "midiReverb": { "type": "boolean", "label": "MIDI Reverb", "default": false },

        "SESourceCount": { "type": "int", "label": "SE Source Count (max 64)", "default": 6 },
        "BGMTrackCount": { "type": "int", "label": "BGM Track Count (max 16)", "default": 1 },

        "execName": { "type": "string", "label": "Windows Executable Base Name", "default": "Game" },

        "dumpAtlas": { "type": "boolean", "label": "Dump Tile Atlas (debug)", "default": false }
    }
}
